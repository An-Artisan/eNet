{"version":3,"sources":["webpack:///./src/pages/jurisdiction/Setaccess.vue?d4fb","webpack:///src/pages/jurisdiction/Setaccess.vue","webpack:///./src/pages/jurisdiction/Setaccess.vue?aa38","webpack:///./src/pages/jurisdiction/Setaccess.vue","webpack:///./src/pages/jurisdiction/Setaccess.vue?92a2"],"names":["render","_vm","this","_h","$createElement","_c","_self","uid_boo","attrs","span","title","$route","query","name","type","closable","_e","staticStyle","text-align","margin","_v","display","render-content","renderFunc","val","titles","button-texts","format","noChecked","hasChecked","data","tableData","on","change","handleChange","model","value","callback","$$v","value3","expression","margin-top","plain","click","submit","clear","staticRenderFns","Setaccessvue_type_script_lang_js_","currentRow","checkedCities1","cities","h","option","concat","key","label","methods","setCurrent","row","$refs","singleTable","setCurrentRow","handleCurrentChange","permissionsmy","_this","Object","api","then","res","console","log","arr","forEach","ele","push","id","display_name","direction","movedKeys","_this2","lib_default","a","stringify","permissions","code","$message","message","center","er","$router","go","mounted","watch","computed","jurisdiction_Setaccessvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Setaccess_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"static/js/chunk-c080.3d30e0e5.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('d2-container',[_c('el-row',[(_vm.uid_boo==false)?_c('el-col',{attrs:{\"span\":24}},[_c('el-alert',{attrs:{\"title\":'对名称为：-- '+ this.$route.query.name +' -- 的角色进行设置权限。',\"type\":\"info\",\"closable\":false}})],1):_vm._e()],1),(_vm.uid_boo==true)?_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('el-alert',{attrs:{\"title\":\"您好像还没有选择角色，暂无法进行下一步！\",\"type\":\"error\",\"closable\":false}})],1)],1):_vm._e(),_c('p',{staticStyle:{\"text-align\":\"center\",\"margin\":\"20px 0 20px\"}},[_vm._v(\"权限同步\")]),_c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('el-transfer',{staticStyle:{\"text-align\":\"left\",\"display\":\"inline-block\"},attrs:{\"render-content\":_vm.renderFunc.val,\"titles\":['所有权限', '角色权限'],\"button-texts\":['到左边', '到右边'],\"format\":{\n              noChecked: '${total}',\n              hasChecked: '${checked}/${total}'\n            },\"data\":_vm.tableData},on:{\"change\":_vm.handleChange},model:{value:(_vm.value3),callback:function ($$v) {_vm.value3=$$v},expression:\"value3\"}})],1),_c('el-row',[_c('el-col',{staticStyle:{\"text-align\":\"center\"},attrs:{\"span\":24}},[_c('el-button',{staticStyle:{\"margin-top\":\"30px\"},attrs:{\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":_vm.submit}},[_vm._v(\"保存 \")]),_c('el-button',{staticStyle:{\"margin-top\":\"30px\"},attrs:{\"plain\":\"\"},on:{\"click\":_vm.clear}},[_vm._v(\" 取消 \")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <d2-container>\r\n        <!-- 设置权限 -->\r\n        <el-row>\r\n            <el-col :span=\"24\" v-if=\"uid_boo==false\">\r\n                <el-alert :title=\"'对名称为：-- '+ this.$route.query.name +' -- 的角色进行设置权限。'\" type=\"info\" :closable=\"false\">\r\n                </el-alert>\r\n            </el-col>\r\n        </el-row>\r\n        <el-row v-if=\"uid_boo==true\">\r\n            <el-col :span=\"24\">\r\n                <el-alert title=\"您好像还没有选择角色，暂无法进行下一步！\" type=\"error\" :closable=\"false\">\r\n                </el-alert>\r\n            </el-col>\r\n        </el-row>\r\n        <!-- <el-table ref=\"singleTable\" :data=\"tableData\" highlight-current-row @current-change=\"handleCurrentChange\" style=\"width: 100%\"> -->\r\n\r\n        <!-- <el-table-column property=\"display_name\" label=\"权限分配\" width=\"120\">\r\n            </el-table-column>\r\n            <el-table-column property=\"description\">\r\n                <template>\r\n                    \r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column property=\"created_at\">\r\n            </el-table-column>\r\n            <el-table-column property=\"updated_at\">\r\n            </el-table-column> -->\r\n\r\n        <!-- </el-table> -->\r\n        <p style=\"text-align: center; margin: 20px 0 20px\">权限同步</p>\r\n        <div style=\"text-align: center\">\r\n            <el-transfer style=\"text-align: left; display: inline-block\" v-model=\"value3\" :render-content=\"renderFunc.val\" :titles=\"['所有权限', '角色权限']\"\r\n                :button-texts=\"['到左边', '到右边']\" :format=\"{\r\n                  noChecked: '${total}',\r\n                  hasChecked: '${checked}/${total}'\r\n                }\" @change=\"handleChange\" :data=\"tableData\">\r\n            </el-transfer>\r\n        </div>\r\n\r\n        <el-row>\r\n            <el-col :span=\"24\" style=\"text-align: center;\">\r\n                <el-button type=\"primary\" style=\"margin-top:30px;\" plain @click=\"submit\">保存 </el-button>\r\n                <el-button style=\"margin-top:30px;\" plain @click=\"clear\"> 取消 </el-button>\r\n            </el-col>\r\n        </el-row>\r\n    </d2-container>\r\n</template>\r\n\r\n<script>\r\n    import { permissions, sync_roles } from '../../plugin/axios/api.js';\r\n    import { Myerror } from '../../plugin/axios/er.js';\r\n    import qs from 'qs';\r\n    export default {\r\n        name: 'Setaccess',\r\n        data() {\r\n            return {\r\n                tableData: [],\r\n                currentRow: null,\r\n                checkedCities1: [],\r\n                cities: [],\r\n                value3: [],\r\n                renderFunc(h, option) {\r\n                    return { val: `<span>${option.key} - ${option.label}</span>` };\r\n                },\r\n                uid_boo: false\r\n            }\r\n        },\r\n        methods: {\r\n            setCurrent(row) {\r\n                this.$refs.singleTable.setCurrentRow(row);\r\n            },\r\n            handleCurrentChange(val) {\r\n                this.currentRow = val;\r\n            },\r\n            permissionsmy() {\r\n                permissions().then(res => {\r\n                    console.log(res.data);\r\n                    let arr = [];\r\n                    res.data.forEach(ele => {\r\n                        arr.push({\r\n                            key: ele.id,\r\n                            label: ele.display_name,\r\n                        })\r\n                    })\r\n                    this.tableData = arr;\r\n                })\r\n            },\r\n            handleChange(value, direction, movedKeys) {\r\n                console.log(value, direction, movedKeys);\r\n            },\r\n            submit() {//覆盖保存\r\n                if (this.uid_boo == true) {\r\n                    this.$message({\r\n                        message: '请选择设置权限的角色！',\r\n                        center: true,\r\n                        type: 'error'\r\n                    });\r\n                    return\r\n                }\r\n                console.log(this.value3);\r\n                let arr = qs.stringify({\r\n                    permissions: this.value3\r\n                })\r\n                // let permissions = [this.value3];\r\n                let id = this.$route.query.id;\r\n                sync_roles(arr, id).then(res => {\r\n                    console.log(res);\r\n                    if (res.code) {\r\n                        this.$message({\r\n                            message: res.message,\r\n                            center: true,\r\n                            type: 'success'\r\n                        });\r\n                        return\r\n                    }\r\n                    Myerror(res, this)\r\n                })\r\n            },\r\n            clear(){\r\n                this.value3 = [];\r\n                this.$router.go(-1);\r\n            }\r\n        },\r\n        mounted() {\r\n            if (!this.$route.query.id) {\r\n                this.uid_boo = true;\r\n            }\r\n            this.permissionsmy()\r\n        },\r\n        watch: {\r\n\r\n        },\r\n        computed: {\r\n\r\n        }\r\n    }\r\n</script>\r\n<style lang=\"scss\">\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Setaccess.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Setaccess.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Setaccess.vue?vue&type=template&id=5cb55f27&\"\nimport script from \"./Setaccess.vue?vue&type=script&lang=js&\"\nexport * from \"./Setaccess.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Setaccess.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Setaccess.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Setaccess.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}