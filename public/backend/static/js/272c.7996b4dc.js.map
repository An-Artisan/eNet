{"version":3,"sources":["webpack:///./src/pages/jurisdiction/power_hone.vue?2a78","webpack:///src/pages/jurisdiction/power_hone.vue","webpack:///./src/pages/jurisdiction/power_hone.vue?94b6","webpack:///./src/pages/jurisdiction/power_hone.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","slot","staticStyle","margin-right","attrs","span","title","type","closable","plain","on","click","addrole","_v","width","data","tableData","label","scopedSlots","_u","key","fn","val","_s","row","display_name","description","size","$event","SetaccessMy","Setaccess","synchronous","edit_role","del_role","visible","centerDialogVisible","center","update:visible","ref","model","form","label-width","placeholder","value","callback","$$v","$set","expression","resize","rows","staticClass","onSubmit","centerDialogVisible2","edit_form","edit_onSubmit","centerDialogVisible3","_l","item","index","margin-top","_e","allot","length","staticRenderFns","power_honevue_type_script_lang_js_","name","restaurants","state1","state2","region","textarea","id","methods","querySearch","queryString","cb","results","filter","createFilter","restaurant","toLowerCase","indexOf","handleSelect","console","log","a","_this","Object","api","then","res","$router","push","path","query","initrole","_this2","_this3","arr","lib_default","stringify","code","$message","message","clearfrom","er","_this4","par","_this5","mounted","jurisdiction_power_honevue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"static/js/272c.7996b4dc.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('d2-container',[_c('template',{slot:\"header\"},[_c('el-row',[_c('el-col',{staticStyle:{\"margin-right\":\"10px\"},attrs:{\"span\":3}},[_c('el-alert',{attrs:{\"title\":\"权限管理\",\"type\":\"info\",\"closable\":false}})],1),_c('el-col',{attrs:{\"span\":20}},[_c('el-button',{attrs:{\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":_vm.addrole}},[_vm._v(\"新增\")])],1)],1)],1),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"width\":\"50\"}}),_c('el-table-column',{attrs:{\"width\":\"180\",\"label\":\"角色\"},scopedSlots:_vm._u([{key:\"default\",fn:function(val){return [_c('div',[_c('el-tag',{staticStyle:{\"margin-right\":\"10px\"},attrs:{\"type\":\"info\"}},[_vm._v(_vm._s(val.row.display_name))])],1)]}}])}),_c('el-table-column',{attrs:{\"label\":\"备注\"},scopedSlots:_vm._u([{key:\"default\",fn:function(val){return [_c('div',[_c('el-tag',{staticStyle:{\"margin-right\":\"10px\"},attrs:{\"type\":\"warning\"}},[_vm._v(\"备注：\"+_vm._s(val.row.description))])],1)]}}])}),_c('el-table-column',{attrs:{\"label\":\"设置\",\"width\":\"480\"},scopedSlots:_vm._u([{key:\"default\",fn:function(val){return [_c('el-button',{attrs:{\"plain\":\"\",\"size\":\"small\"},on:{\"click\":function($event){_vm.SetaccessMy(val.row)}}},[_vm._v(\"查看权限\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"plain\":\"\",\"size\":\"small\"},on:{\"click\":function($event){_vm.Setaccess(val.row)}}},[_vm._v(\"权限同步\")]),_c('el-button',{attrs:{\"type\":\"warning\",\"plain\":\"\",\"size\":\"small\"},on:{\"click\":function($event){_vm.synchronous(val.row)}}},[_vm._v(\"角色同步\")]),_c('el-button',{attrs:{\"type\":\"info\",\"plain\":\"\",\"size\":\"small\"},on:{\"click\":function($event){_vm.edit_role(val.row)}}},[_vm._v(\"编辑\")]),_c('el-button',{attrs:{\"type\":\"danger\",\"plain\":\"\",\"size\":\"small\"},on:{\"click\":function($event){_vm.del_role(val.row)}}},[_vm._v(\"删除\")])]}}])})],1),_c('el-dialog',{attrs:{\"title\":\"添加角色\",\"visible\":_vm.centerDialogVisible,\"width\":\"30%\",\"center\":\"\"},on:{\"update:visible\":function($event){_vm.centerDialogVisible=$event}}},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"角色名称\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入角色名称\"},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"角色身份\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入角色身份\"},model:{value:(_vm.form.region),callback:function ($$v) {_vm.$set(_vm.form, \"region\", $$v)},expression:\"form.region\"}})],1),_c('el-form-item',{attrs:{\"label\":\"角色描述\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"resize\":\"none\",\"rows\":2,\"placeholder\":\"请输入角色描述\"},model:{value:(_vm.form.textarea),callback:function ($$v) {_vm.$set(_vm.form, \"textarea\", $$v)},expression:\"form.textarea\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.centerDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"确 定\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"编辑角色\",\"visible\":_vm.centerDialogVisible2,\"width\":\"30%\",\"center\":\"\"},on:{\"update:visible\":function($event){_vm.centerDialogVisible2=$event}}},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"角色身份\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入角色身份\"},model:{value:(_vm.edit_form.region),callback:function ($$v) {_vm.$set(_vm.edit_form, \"region\", $$v)},expression:\"edit_form.region\"}})],1),_c('el-form-item',{attrs:{\"label\":\"角色描述\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"resize\":\"none\",\"rows\":2,\"placeholder\":\"请输入角色描述\"},model:{value:(_vm.edit_form.textarea),callback:function ($$v) {_vm.$set(_vm.edit_form, \"textarea\", $$v)},expression:\"edit_form.textarea\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.centerDialogVisible2 = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.edit_onSubmit}},[_vm._v(\"确 定\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"查看权限\",\"visible\":_vm.centerDialogVisible3,\"width\":\"30%\",\"center\":\"\"},on:{\"update:visible\":function($event){_vm.centerDialogVisible3=$event}}},[_vm._l((_vm.allot),function(item,index){return (_vm.allot)?_c('el-alert',{key:index,staticStyle:{\"margin-top\":\"10px\"},attrs:{\"title\":'权限：' + item.display_name + ' 备注： ' + item.description,\"type\":\"info\",\"closable\":false}}):_vm._e()}),(_vm.allot.length==0)?_c('el-alert',{attrs:{\"title\":\"暂时没有任何权限。。。\",\"type\":\"warning\",\"closable\":false}}):_vm._e(),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.centerDialogVisible3 = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.centerDialogVisible3 = false}}},[_vm._v(\"确 定\")])],1)],2)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <d2-container>\r\n        <!-- 权限管理 -->\r\n        <!-- header -->\r\n        <template slot=\"header\">\r\n            <el-row>\r\n                <el-col :span=\"3\" style=\"margin-right:10px;\">\r\n                    <!-- <el-autocomplete class=\"inline-input\" v-model=\"state1\" :fetch-suggestions=\"querySearch\" placeholder=\"请输入内容\"></el-autocomplete> -->\r\n                    <el-alert title=\"权限管理\" type=\"info\" :closable=\"false\">\r\n                    </el-alert>\r\n                </el-col>\r\n                <el-col :span=\"20\">\r\n                    <!-- <el-button type=\"primary\" plain>搜索</el-button> -->\r\n                    <el-button type=\"primary\" plain @click=\"addrole\">新增</el-button>\r\n                </el-col>\r\n            </el-row>\r\n        </template>\r\n        <el-table :data=\"tableData\" style=\"width: 100%\">\r\n            <el-table-column type=\"index\" width=\"50\">\r\n            </el-table-column>\r\n            <el-table-column width=\"180\" label=\"角色\">\r\n                <template slot-scope=\"val\">\r\n                    <div>\r\n                        <el-tag type=\"info\" style=\"margin-right:10px;\">{{val.row.display_name}}</el-tag>\r\n                    </div>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"备注\">\r\n                <template slot-scope=\"val\">\r\n                    <div>\r\n                        <el-tag type=\"warning\" style=\"margin-right:10px;\">备注：{{val.row.description}}</el-tag>\r\n                    </div>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"设置\" width=\"480\">\r\n                <template slot-scope=\"val\">\r\n                    <el-button  plain size=\"small\" @click=\"SetaccessMy(val.row)\">查看权限</el-button>\r\n                    <el-button type=\"primary\" plain size=\"small\" @click=\"Setaccess(val.row)\">权限同步</el-button>\r\n                    <el-button type=\"warning\" plain size=\"small\" @click=\"synchronous(val.row)\">角色同步</el-button>\r\n                    <el-button type=\"info\" plain size=\"small\" @click=\"edit_role(val.row)\">编辑</el-button>\r\n                    <el-button type=\"danger\" plain size=\"small\" @click=\"del_role(val.row)\">删除</el-button>\r\n                </template>\r\n            </el-table-column>\r\n        </el-table>\r\n\r\n        <!-- 添加角色 -->\r\n        <el-dialog title=\"添加角色\" :visible.sync=\"centerDialogVisible\" width=\"30%\" center>\r\n            <el-form ref=\"form\" :model=\"form\" label-width=\"80px\">\r\n                <el-form-item label=\"角色名称\">\r\n                    <el-input v-model=\"form.name\" placeholder=\"请输入角色名称\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"角色身份\">\r\n                    <el-input v-model=\"form.region\" placeholder=\"请输入角色身份\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"角色描述\">\r\n                    <el-input type=\"textarea\" resize=\"none\" :rows=\"2\" placeholder=\"请输入角色描述\" v-model=\"form.textarea\">\r\n                    </el-input>\r\n                </el-form-item>\r\n            </el-form>\r\n            <span slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"centerDialogVisible = false\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"onSubmit\">确 定</el-button>\r\n            </span>\r\n        </el-dialog>\r\n\r\n\r\n        <!-- 编辑角色 -->\r\n        <el-dialog title=\"编辑角色\" :visible.sync=\"centerDialogVisible2\" width=\"30%\" center>\r\n            <el-form ref=\"form\" :model=\"form\" label-width=\"80px\">\r\n                <!-- <el-form-item label=\"角色名称\">\r\n                    <el-input v-model=\"edit_form.name\" placeholder=\"请输入角色名称\"></el-input>\r\n                </el-form-item> -->\r\n                <el-form-item label=\"角色身份\">\r\n                    <el-input v-model=\"edit_form.region\" placeholder=\"请输入角色身份\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"角色描述\">\r\n                    <el-input type=\"textarea\" resize=\"none\" :rows=\"2\" placeholder=\"请输入角色描述\" v-model=\"edit_form.textarea\">\r\n                    </el-input>\r\n                </el-form-item>\r\n            </el-form>\r\n            <span slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"centerDialogVisible2 = false\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"edit_onSubmit\">确 定</el-button>\r\n            </span>\r\n        </el-dialog>\r\n\r\n        <!-- 查看权限 -->\r\n        <el-dialog title=\"查看权限\" :visible.sync=\"centerDialogVisible3\" width=\"30%\" center>\r\n            <el-alert style=\"margin-top:10px;\" :title=\"'权限：' + item.display_name + ' 备注： ' + item.description\" type=\"info\" :closable=\"false\"\r\n                v-for=\"(item, index) in allot\" :key=\"index\" v-if=\"allot\">\r\n            </el-alert>\r\n            <el-alert title=\"暂时没有任何权限。。。\" type=\"warning\" :closable=\"false\" v-if=\"allot.length==0\">\r\n            </el-alert>\r\n            <span slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"centerDialogVisible3 = false\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"centerDialogVisible3 = false\">确 定</el-button>\r\n            </span>\r\n        </el-dialog>\r\n\r\n    </d2-container>\r\n</template>\r\n\r\n<script>\r\n    import { roles, add_roles, del_roles, edit_roles, allot_roles } from '../../plugin/axios/api.js';\r\n    import { Myerror } from '../../plugin/axios/er.js';\r\n    import qs from 'qs';\r\n    export default {\r\n        name: 'power',\r\n        data() {\r\n            return {\r\n                restaurants: [],\r\n                state1: '',\r\n                state2: '',\r\n                tableData: [],\r\n                centerDialogVisible: false,\r\n                centerDialogVisible2: false,\r\n                centerDialogVisible3: false,\r\n                allot: [],\r\n                form: {\r\n                    name: '',\r\n                    region: '',\r\n                    textarea: '',\r\n                },\r\n                edit_form: {\r\n                    name: '',\r\n                    region: '',\r\n                    textarea: '',\r\n                    id: '',\r\n                }\r\n            }\r\n        },\r\n        methods: {\r\n            querySearch(queryString, cb) {\r\n                var restaurants = this.restaurants;\r\n                var results = queryString ? restaurants.filter(this.createFilter(queryString)) : restaurants;\r\n                // 调用 callback 返回建议列表的数据\r\n                cb(results);\r\n            },\r\n            createFilter(queryString) {\r\n                return (restaurant) => {\r\n                    return (restaurant.value.toLowerCase().indexOf(queryString.toLowerCase()) === 0);\r\n                };\r\n            },\r\n            handleSelect(item) {\r\n                console.log(item);\r\n            },\r\n            SetaccessMy(a) {//权限分配\r\n                // console.log(a);\r\n                let id = a.id\r\n                allot_roles(id).then(res => {\r\n                    this.allot = res.data;\r\n                    this.centerDialogVisible3 = true;\r\n                    // console.log(this.allot);\r\n                })\r\n            },\r\n            Setaccess(a) {//权限同步\r\n                this.$router.push({ path: '/Setaccess' ,query:{id:a.id,name:a.display_name} })\r\n            },\r\n            synchronous(a){//角色同步\r\n                this.$router.push({ path: '/synchronous' ,query:{id:a.id,name:a.display_name} })\r\n            },\r\n            initrole() {\r\n                roles().then(res => {\r\n                    console.log(res);\r\n                    this.tableData = res.data;\r\n                })\r\n            },\r\n            addrole() {//添加角色\r\n                this.centerDialogVisible = true;\r\n\r\n            },\r\n            onSubmit() {//添加角色\r\n                console.log('submit!');\r\n                if (this.form.name == '') {\r\n                    this.$message({\r\n                        message: '请输入用户姓名',\r\n                        center: true,\r\n                        type: 'error'\r\n                    });\r\n                    return\r\n                }\r\n                if (this.form.region == '') {\r\n                    this.$message({\r\n                        message: '请选择用户身份',\r\n                        center: true,\r\n                        type: 'error'\r\n                    });\r\n                    return\r\n                }\r\n                let arr = qs.stringify({\r\n                    name: this.form.name,\r\n                    display_name: this.form.region,\r\n                    description: this.form.textarea\r\n                })\r\n                add_roles(arr).then(res => {\r\n                    console.log(res);\r\n                    if (res.code) {\r\n                        this.$message({\r\n                            message: res.message,\r\n                            center: true,\r\n                            type: 'success'\r\n                        });\r\n                        this.clearfrom()\r\n                        this.initrole()\r\n                        return\r\n                    }\r\n                    Myerror(res, this);\r\n                })\r\n\r\n            },\r\n            del_role(a) {//删除角色\r\n                // console.log(Myerror);\r\n                let par = a.id;\r\n                del_roles(par).then(res => {\r\n                    if (res.code) {\r\n                        this.$message({\r\n                            message: res.message,\r\n                            center: true,\r\n                            type: 'success'\r\n                        });\r\n                        this.clearfrom()\r\n                        this.initrole()\r\n                        return\r\n                    }\r\n                    Myerror(res, this);\r\n                })\r\n            },\r\n            clearfrom() {//清空新增数据\r\n                this.form.textarea = '';\r\n                this.form.region = '';\r\n                this.form.name = '';\r\n                this.centerDialogVisible = false;\r\n                this.edit_form.textarea = '';\r\n                this.edit_form.region = '';\r\n                this.edit_form.id = '';\r\n                this.centerDialogVisible2 = false;\r\n            },\r\n            edit_role(a) {//编辑角色\r\n                console.log(a);\r\n                this.$set(this.edit_form, \"region\", a.display_name)\r\n                this.$set(this.edit_form, \"textarea\", a.description)\r\n                this.$set(this.edit_form, \"id\", a.id)\r\n                this.centerDialogVisible2 = true;\r\n\r\n            },\r\n            edit_onSubmit() {//编辑角色\r\n                if (this.edit_form.region == '') {\r\n                    this.$message({\r\n                        message: '请输入用户姓名',\r\n                        center: true,\r\n                        type: 'error'\r\n                    });\r\n                    return\r\n                }\r\n                let arr = {\r\n                    display_name: this.edit_form.region,\r\n                    description: this.edit_form.textarea,\r\n                }\r\n                edit_roles(arr, this.edit_form.id).then(res => {\r\n                    if (res.code) {\r\n                        this.$message({\r\n                            message: res.message,\r\n                            center: true,\r\n                            type: 'success'\r\n                        });\r\n                        this.clearfrom()\r\n                        this.initrole()\r\n                        return\r\n                    }\r\n                    Myerror(res, this);\r\n                })\r\n\r\n            }\r\n        },\r\n        mounted() {\r\n            this.initrole()\r\n        }\r\n    }\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./power_hone.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./power_hone.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./power_hone.vue?vue&type=template&id=613cc7a5&\"\nimport script from \"./power_hone.vue?vue&type=script&lang=js&\"\nexport * from \"./power_hone.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}