(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e488"],{"0a1b":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("d2-container",[a("template",{slot:"header"},[a("el-row",[a("el-col",{staticStyle:{"margin-right":"10px"},attrs:{span:3}},[a("el-alert",{attrs:{title:"供应商管理",type:"info",closable:!1}})],1),a("el-col",{attrs:{span:5}},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:e.add_val}},[e._v("添加")])],1)],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),a("el-table-column",{attrs:{prop:"master_name",label:"姓名",width:"180"}}),a("el-table-column",{attrs:{prop:"supplier_name",label:"供应商名称",width:"180"}}),a("el-table-column",{attrs:{prop:"supplier_address",label:"地址"}}),a("el-table-column",{attrs:{label:"操作",width:"280"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(a){e.edit_val(t.row)}}},[e._v("编辑")]),a("el-button",{attrs:{type:"danger",plain:""},on:{click:function(a){e.emit_val(t.row)}}},[e._v("删除")])]}}])})],1),a("el-row",{staticStyle:{height:"80px"},attrs:{type:"flex",justify:"space-between",align:"middle"}},[a("el-col",{attrs:{span:24}},[a("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"prev, pager, next","page-size":10,total:e.checked},on:{"current-change":e.page}})],1)],1),a("el-dialog",{attrs:{title:e.num,visible:e.dialogVisible,width:"30%","before-close":e.clear},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-input",{staticStyle:{"margin-top":"10px"},attrs:{placeholder:"请输入供应商名称..."},model:{value:e.form.supplier_name,callback:function(t){e.$set(e.form,"supplier_name",t)},expression:"form.supplier_name"}},[a("template",{slot:"prepend"},[e._v("供应商名称")])],2),a("el-input",{staticStyle:{"margin-top":"10px"},attrs:{placeholder:"请输入联系人姓名..."},model:{value:e.form.master_name,callback:function(t){e.$set(e.form,"master_name",t)},expression:"form.master_name"}},[a("template",{slot:"prepend"},[e._v("联系人姓名")])],2),a("el-input",{staticStyle:{"margin-top":"10px"},attrs:{placeholder:"请输入联系人电话..."},model:{value:e.form.master_phone,callback:function(t){e.$set(e.form,"master_phone",t)},expression:"form.master_phone"}},[a("template",{slot:"prepend"},[e._v("联系人电话")])],2),a("el-input",{staticStyle:{"margin-top":"10px"},attrs:{placeholder:"请输入供应商地址..."},model:{value:e.form.supplier_address,callback:function(t){e.$set(e.form,"supplier_address",t)},expression:"form.supplier_address"}},[a("template",{slot:"prepend"},[e._v("供应商地址")])],2),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.clear}},[e._v("取 消")]),e.form.id?e._e():a("el-button",{attrs:{type:"primary"},on:{click:e.onsubmit}},[e._v("确 定")]),e.form.id?a("el-button",{attrs:{type:"primary"},on:{click:e.onsubmit_edit}},[e._v("确 定")]):e._e()],1)],1)],2)},l=[],i=a("92d5"),n=a("6cf5"),r=a("4328"),o=a.n(r),p={name:"manage_home",data:function(){return{num:"",value3:"",state1:"",dialogVisible:!1,checked:1,pages:1,multipleSelection:[],tableData:[],form:{supplier_name:"",master_name:"",master_phone:"",supplier_address:""}}},methods:{handleSelect:function(e){console.log(e)},page:function(e){console.log(e),this.pages=e,this.initsupplier()},add_val:function(){this.num="添加供应商",this.dialogVisible=!0},onsubmit:function(){var e=this,t=o.a.stringify(this.form);Object(i["i"])(t).then(function(t){if(console.log(t),t.code)return e.$message({message:t.message,center:!0,type:"success"}),e.clear(),void e.initsupplier();Object(n["a"])(t,e)})},emit_val:function(e){var t=this;console.log(e);var a=e.id;Object(i["w"])(a).then(function(e){if(console.log(e),e.code)return t.$message({message:e.message,center:!0,type:"success"}),void t.initsupplier();Object(n["a"])(e,t)})},edit_val:function(e){this.num="修改供应商",this.form={supplier_name:e.supplier_name,master_name:e.master_name,master_phone:e.master_phone,supplier_address:e.supplier_address,id:e.id},this.dialogVisible=!0},onsubmit_edit:function(){var e=this,t={supplier_name:this.form.supplier_name,master_name:this.form.master_name,master_phone:this.form.master_phone,supplier_address:this.form.supplier_address},a=this.form.id;Object(i["G"])(t,a).then(function(t){if(console.log(t),t.code)return e.$message({message:t.message,center:!0,type:"success"}),e.initsupplier(),void e.clear();Object(n["a"])(t,e)})},initsupplier:function(){var e=this,t={page:this.pages,limit:10};Object(i["bb"])(t).then(function(t){console.log(t),e.tableData=t.data.data,e.checked=t.data.paginate.total})},clearfrom:function(){this.form={supplier_name:"",master_name:"",master_phone:"",supplier_address:""}},clear:function(){this.dialogVisible=!1,this.clearfrom()}},mounted:function(){this.initsupplier()}},c=p,m=(a("b708"),a("2877")),u=Object(m["a"])(c,s,l,!1,null,null,null);t["default"]=u.exports},b708:function(e,t,a){"use strict";var s=a("e518"),l=a.n(s);l.a},e518:function(e,t,a){}}]);
//# sourceMappingURL=chunk-e488.67979d78.js.map